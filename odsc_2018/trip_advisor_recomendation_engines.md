
# Trip Advisor: 5/03/2018

fraud detection
recommender systems
bot detection
booking models...

ranking problem
-----------------
used to make a better experience for the user

[mean average precision] used for accuracy measurements
pushes more relevant documents up higher

how to sort?
* user immpression meta data
* location level look-back data (including seasonal trends, if there is a confernece, etc)
* user-related meta data

model -- linear CTR model

POSITION really matters -- thus SEO is so important / value
* clicks 1-2 -- user just browsing
* clicks 3-10 -- user really digging

these models work very well... until they dont...
* users not very sensitive to price in certain travel destinations (relative price more important -- previous model bias...)
* CTR negatively correlated to populatiry score, generated by user review (popularity is sensitive to availability)
* at the end of day, don't even know if user actually SAW the hotel on the list (could have just scrolled to the bottom, so ranks 4-9 could be missed?)

therefore, going from POINTWISE to PAIRWISE model
* always assume user has seen top 3, then compare... 
	-- looking at A,B,C -- B clicked, so assume B > A, B > C. Cannot infere A ... C
	-- now, look at A,B,C,D -- B/D clicked, so also D > A, D > C, 
	-- new objective function: B/D, then A/C
	-- classification model... B/D vs A/C

result: 12% in clicks, 3.4% in revenue, 1.3% in booking

---------------------------------------------------------------------------------------------------

future improvement: 

* search related features cancelled out during pairwise transformation
* pair generation and bucketing was expensive
* MAP invisible to model during the TRAINING phase
POINTWISE -> PAIRWISE -> LISTWISE

